# Level 4: Type Hints

[concept]
id = "type_hints"
name = "Type Hints: Self-Documenting Code"
level = 4
category = "quality"
order = 9

[content]
lesson = """
## Labels for Your Code

Type hints tell readers what types your code expects:

```python
def calculate_damage(base: int, multiplier: float) -> int:
    return int(base * multiplier)

damage: int = calculate_damage(50, 1.5)  # 75
```

## Basic Syntax

```python
# Variables
name: str = "Player"
hp: int = 100
alive: bool = True

# Functions
def greet(name: str) -> str:
    return f"Hello, {name}!"

def add(a: int, b: int) -> int:
    return a + b
```

## Collection Types

```python
# Python 3.9+
items: list[str] = ["sword", "potion"]
stats: dict[str, int] = {"hp": 100, "mp": 50}

# Python 3.8 and earlier
from typing import List, Dict
items: List[str] = ["sword", "potion"]
stats: Dict[str, int] = {"hp": 100}
```

## Optional Values

```python
from typing import Optional

def find_player(name: str) -> Optional[Player]:
    # Returns Player or None
    return players.get(name)
```

## Union Types

```python
from typing import Union

def process(value: Union[int, str]) -> str:
    return str(value)

# Python 3.10+
def process(value: int | str) -> str:
    return str(value)
```

## Benefits

1. **IDE Autocomplete** - Editor knows what methods are available
2. **Catch Bugs Early** - Tools like mypy find type errors
3. **Documentation** - Code explains itself
4. **Refactoring** - Safely rename and change code

## Important: Hints Don't Enforce

Python **ignores** type hints at runtime:

```python
def greet(name: str) -> str:
    return f"Hello, {name}!"

greet(123)  # Works! Python doesn't check
```

Use `mypy` to check: `pip install mypy && mypy script.py`

## Common Patterns

```python
from typing import List, Dict, Optional
from dataclasses import dataclass

@dataclass
class Player:
    name: str
    hp: int
    inventory: List[str]

    def take_damage(self, amount: int) -> bool:
        '''Return True if still alive'''
        self.hp -= amount
        return self.hp > 0

    def heal(self, amount: int) -> None:
        self.hp = min(self.hp + amount, 100)
```
"""

[content.try_it]
prompt = "Add type hints to this function"
starter = '''
def calculate_total(prices, discount):
    # prices is a list of floats
    # discount is a float (0.0 to 1.0)
    # returns a float
    total = sum(prices)
    return total * (1 - discount)
'''
solution = '''
def calculate_total(prices: list[float], discount: float) -> float:
    total = sum(prices)
    return total * (1 - discount)

# Example
result = calculate_total([10.0, 20.0, 30.0], 0.1)
print(result)  # 54.0
'''

[connections]
prerequisites = ["functions", "classes"]
enables = ["dataclasses"]
used_in = []
see_also = ["functions", "classes"]

[meta]
time_to_read = 55
difficulty = "intermediate"
tags = ["type_hints", "typing", "quality"]
