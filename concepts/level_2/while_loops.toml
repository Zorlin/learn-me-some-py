# Level 2: While Loops (Advanced)

[concept]
id = "while_loops"
name = "While Loops: Advanced Patterns"
level = 2
category = "control_flow"
order = 8

[content]
lesson = """
## Game Loop Pattern

The most important while loop pattern - keeps your game running:

```python
game_running = True
while game_running:
    command = input("What do you do? ")
    if command == "quit":
        game_running = False
    else:
        process_command(command)
```

## The while True Pattern

Use `while True` with `break` for cleaner exit conditions:

```python
while True:
    answer = input("Password: ")
    if answer == "secret":
        print("Access granted!")
        break  # Exit the loop
    print("Wrong password!")
```

## Multiple Exit Conditions

Combine conditions for complex loops:

```python
hp = 100
enemies = 5

while hp > 0 and enemies > 0:
    # Battle continues while alive AND enemies remain
    hp -= 10
    enemies -= 1

if hp <= 0:
    print("You died!")
else:
    print("You won!")
```

## Retry Pattern

Attempt something multiple times:

```python
attempts = 0
max_attempts = 3
success = False

while attempts < max_attempts and not success:
    try:
        result = risky_operation()
        success = True
    except:
        attempts += 1
        print(f"Retry {attempts}/{max_attempts}")

if not success:
    print("All attempts failed")
```

## The else Clause

`else` runs if loop completes normally (no `break`):

```python
for num in range(2, 10):
    for i in range(2, num):
        if num % i == 0:
            break
    else:
        # No break happened - num is prime
        print(f"{num} is prime")
```

## Common Mistake: Forgetting to Update

```python
# INFINITE LOOP!
x = 0
while x < 10:
    print(x)
    # Forgot: x += 1

# Fixed
x = 0
while x < 10:
    print(x)
    x += 1  # Don't forget!
```
"""

[content.try_it]
prompt = "Create a guessing game loop that continues until correct"
starter = '''
secret = 7
# Keep asking for guesses until they get it right

'''
solution = '''
secret = 7
# Keep asking for guesses until they get it right
while True:
    guess = int(input("Guess a number: "))
    if guess == secret:
        print("Correct!")
        break
    elif guess < secret:
        print("Too low!")
    else:
        print("Too high!")
'''

[connections]
prerequisites = ["while_loops_basics", "boolean_logic"]
enables = []
used_in = ["guess_my_number"]
see_also = ["for_loops", "while_loops_basics"]

[meta]
time_to_read = 55
difficulty = "intermediate"
tags = ["loops", "control_flow", "game_loops"]
