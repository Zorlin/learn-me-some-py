# Level 2: Sets
# Prerequisite for: deduplication, membership testing, set operations

[concept]
id = "sets_basics"
name = "Sets: No Duplicates Allowed"
level = 2
prerequisites = ["lists_basics", "dictionaries_basics"]

[description]
brief = "Unordered collections that automatically remove duplicates"
detailed = """
A set is like a bag of unique marbles - you can't have two identical ones.
Sets are great for "is this in here?" checks and removing duplicates.

```python
unique_items = {1, 2, 3, 2, 1}  # Duplicates ignored
print(unique_items)              # {1, 2, 3}

# Empty set (must use set(), not {})
empty = set()
empty.add(5)
print(empty)                     # {5}
```
"""

[methods]
add = "Add single item: my_set.add(item)"
update = "Add multiple items: my_set.update([1, 2, 3])"
remove = "Remove item (error if missing): my_set.remove(item)"
discard = "Remove item (silent if missing): my_set.discard(item)"
pop = "Remove and return arbitrary item: my_set.pop()"
clear = "Remove all items: my_set.clear()"

[operations]
union = "Combine sets: {1, 2} | {2, 3} â†’ {1, 2, 3}"
intersection = "Common items: {1, 2} & {2, 3} â†’ {2}"
difference = "Items in first, not second: {1, 2} - {2, 3} â†’ {1}"
symmetric_difference = "Items in either, not both: {1, 2} ^ {2, 3} â†’ {1, 3}"

[gotchas]
no_order = """
Sets have NO order - you can't do my_set[0]:
s = {3, 1, 2}
# s[0]  # TypeError! No indexing

Use for loops to iterate:
for item in s:
    print(item)  # Order not guaranteed!
"""
empty_set_syntax = """
Empty sets are tricky:
âœ“ set()   # Empty set
âœ— {}      # Empty DICTIONARY!

With items:
âœ“ {1, 2}  # Set
"""
sets_need_immutables = """
Set items must be immutable:
âœ“ {1, 2, "text", (3, 4)}        # OK
âœ— {[1, 2], {"key": "value"}}    # ERROR! Lists/dicts not allowed
"""

[gamepad_tutorial]
text = """
ðŸŽ® EASY MODE:
- Press Y to check membership with 'in'
- Press RB to suggest set operations
- D-pad UP to see set methods
- Hold RT to see "fast membership" demo
"""

[challenges]
starter = "set_remove_duplicates"
intermediate = "set_unique_visitors"
mastery = "set_venn_diagram"

[fun_factor]
type = "unique_collection"
description = "Like collecting unique items or tracking visited locations"
examples = ["unique achievements", "visited rooms", "active players", "tag system"]

[adaptive]
weakness_signals = ["trying_to_index", "using_list_for_membership", "mutable_items"]
strength_indicators = ["membership_testing", "deduplication", "set_operations"]

[examples]
basic = '''
# Remove duplicates from a list
scores = [100, 85, 90, 85, 100, 95]
unique_scores = set(scores)
print(unique_scores)  # {100, 85, 90, 95}

# Fast membership testing
visited = {"forest", "cave", "town"}
if "cave" in visited:
    print("Already been there!")
'''

advanced = '''
# Players in different game modes
casual_players = {"alice", "bob", "carol"}
ranked_players = {"bob", "dave", "eve"}

# Who plays both?
both_modes = casual_players & ranked_players
print(both_modes)  # {'bob'}

# All unique players
all_players = casual_players | ranked_players
print(all_players)  # {'alice', 'bob', 'carol', 'dave', 'eve'}

# Casual-only players
casual_only = casual_players - ranked_players
print(casual_only)  # {'alice', 'carol'}
'''

[common_mistakes]
mistake_1 = "Using {} for empty set instead of set() - {} creates a dictionary!"
mistake_2 = "Trying to index sets like lists: my_set[0] doesn't work"
mistake_3 = "Putting mutable items (lists, dicts) in sets"

[fun_facts]
fact_1 = "Sets use hash tables - checking 'if x in my_set' is super fast!"
fact_2 = "Set operations (union, intersection) are way faster than list equivalents"
fact_3 = "Math set theory is built into Python - Venn diagrams are code!"
