const r="/api";async function a(e,t,o){const n=t.startsWith("/api")?t:`${r}${t}`,i={method:e,headers:{"Content-Type":"application/json"}};o&&(i.body=JSON.stringify(o));const l=await fetch(n,i);return{data:await l.json(),status:l.status,ok:l.ok}}const s={get:e=>a("GET",e),post:(e,t)=>a("POST",e,t),put:(e,t)=>a("PUT",e,t),delete:e=>a("DELETE",e)},d={list:e=>{const t=e!==void 0?`/challenges?level=${e}`:"/challenges";return s.get(t)},get:e=>s.get(`/challenges/${e}`),submit:(e,t,o="default")=>s.post("/code/submit",{challenge_id:e,code:t,player_id:o})},p={getProfile:(e="default")=>s.get(`/profile?player_id=${e}`),getAchievements:(e="default")=>s.get(`/achievements?player_id=${e}`),recordEmotional:(e,t,o,n="default")=>s.post("/emotional/record",{player_id:n,trigger:e,value:t,context:o}),getRecommendations:(e="default")=>s.get(`/recommendations?player_id=${e}`)},g={list:()=>s.get("/lessons"),get:e=>s.get(`/lessons/${e}`),getSolution:e=>s.get(`/lessons/${e}/solution`),markSeen:(e,t="default")=>s.post(`/lessons/${e}/mark-seen`,{player_id:t}),markUnderstood:(e,t="default")=>s.post(`/lessons/${e}/mark-understood`,{player_id:t}),forChallenge:e=>s.get(`/lessons/for-challenge/${e}`)};export{s as a,g as b,d as c,p};
