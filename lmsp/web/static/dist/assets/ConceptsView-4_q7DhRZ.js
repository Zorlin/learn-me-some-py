import{d as q,r as _,a as D,o as H,c as i,b as a,g as s,m as P,p as g,F as m,i as y,f as x,t as r,j as U,q as W,s as J,k as n,_ as K}from"./index-C9SLr4DQ.js";import{b as Q}from"./client-H5C7n97n.js";import{R as F}from"./RadialProgress-D5R5qvE0.js";const X={class:"responsive-container-wide py-responsive"},Y={class:"level-filter-row"},Z=["onClick"],ee={class:"level-btn-content"},te={class:"level-label"},se={key:0,class:"level-progress-container"},oe={class:"level-stats-text"},ne={key:1,class:"level-empty-progress"},ae={class:"category-filter-row"},le={key:0,class:"category-count"},re=["onClick"],ce={class:"category-icon"},ie={class:"category-label"},ue={class:"category-count"},de={key:0,class:"text-center py-12 text-text-muted"},ve={key:1,class:"text-center py-12"},pe={key:2},ge={class:"level-header mb-6"},fe={class:"text-responsive-heading flex items-center gap-3"},me={class:"text-accent-primary"},ye={class:"text-text-secondary"},_e={class:"categories-grid"},be={class:"category-header mb-3 flex items-center gap-2"},he={class:"text-xl"},xe={class:"text-accent-secondary"},ke={class:"text-text-muted text-sm"},Ce={class:"category-concepts-grid"},we=["onClick"],Se={class:"flex items-start justify-between"},Le={class:"flex-1"},Be={class:"flex items-center gap-2 mb-2"},Ne={key:0,class:"bonus-badge"},Re={class:"font-bold text-lg mb-1"},$e={class:"time-estimate"},Ae={class:"time-text"},Fe={class:"progress-container"},Ve={key:1,class:"empty-progress"},je=q({__name:"ConceptsView",setup(Me){const k=U(),C=_({}),b=_(!0),u=_(null),c=_(null);D({onBack:()=>k.push("/")}),H(async()=>{await V()});async function V(){b.value=!0;const t=await Q.list();t.ok&&(C.value=t.data.categories||t.data),b.value=!1}const v=i(()=>{const t=[];for(const[e,o]of Object.entries(C.value))for(const d of o)t.push({...d,category:e});return t}),h=i(()=>{const t=new Set;for(const e of v.value)t.add(e.category);return Array.from(t).sort()}),j=i(()=>{const t=new Set;for(const e of v.value)t.add(e.level);return Array.from(t).sort((e,o)=>e-o)}),M=i(()=>{if(u.value===null)return new Set(h.value);const t=new Set;for(const e of v.value)e.level===u.value&&t.add(e.category);return t}),w=i(()=>{if(c.value===null)return new Set(j.value);const t=new Set;for(const e of v.value)e.category===c.value&&t.add(e.level);return t}),S=i(()=>u.value===null?h.value:h.value.filter(t=>M.value.has(t))),f=i(()=>{const t={};for(let e=0;e<=6;e++)t[e]={total:0,completed:0,avgRetention:0};for(const e of v.value)t[e.level].total++,e.progress&&(t[e.level].completed++,t[e.level].avgRetention+=e.progress.retention);for(let e=0;e<=6;e++)t[e].completed>0&&(t[e].avgRetention=Math.round(t[e].avgRetention/t[e].completed));return t}),z=i(()=>{const t={};for(const e of v.value)t[e.category]=(t[e.category]||0)+1;return t}),L=i(()=>v.value.filter(t=>!(u.value!==null&&t.level!==u.value||c.value!==null&&t.category!==c.value))),B=i(()=>{const t={};for(const e of L.value)t[e.level]||(t[e.level]={}),t[e.level][e.category]||(t[e.level][e.category]=[]),t[e.level][e.category].push(e);return t}),E=i(()=>Object.keys(B.value).map(Number).sort((t,e)=>t-e));function I(t){k.push(`/concept/${t}`)}function N(t){t!==null&&c.value!==null&&(w.value.has(t)||(c.value=null)),u.value=t}function R(t){c.value=t}function O(t){return c.value===null?!0:w.value.has(t)}function $(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}function A(t){return{variables:"üì¶",strings:"üìù",numbers:"üî¢",booleans:"‚úì",lists:"üìã",dictionaries:"üóÇÔ∏è",loops:"üîÅ",conditionals:"üîÄ",functions:"‚ö°",classes:"üèóÔ∏è",files:"üìÅ",errors:"‚ö†Ô∏è",modules:"üìö",meta_programming:"üîÆ",async_programming:"‚è≥",data_structures:"üèóÔ∏è",testing:"üß™"}[t]||"üìñ"}function G(t){return{0:"First Steps",1:"Basics",2:"Growing",3:"Intermediate",4:"Advanced",5:"Expert",6:"Master"}[t]||`Level ${t}`}return(t,e)=>(n(),a("div",X,[e[11]||(e[11]=s("h1",{class:"text-responsive-title mb-6 3xl:mb-8"},[s("span",{class:"text-accent-secondary"},"üìñ"),P(" Concepts ")],-1)),e[12]||(e[12]=s("p",{class:"text-text-secondary mb-6 text-lg max-w-2xl"}," Bite-sized lessons that teach ONE concept with no pressure. Filter by level or category to find what you need. ",-1)),s("div",Y,[s("button",{class:g(["level-filter-btn gamepad-focusable",{active:u.value===null}]),onClick:e[0]||(e[0]=o=>N(null))},[...e[3]||(e[3]=[s("span",{class:"level-filter-label"},"All",-1)])],2),(n(),a(m,null,y(7,o=>{var d,p,l;return s("button",{key:o-1,class:g(["level-filter-btn gamepad-focusable",{active:u.value===o-1,"has-progress":((d=f.value[o-1])==null?void 0:d.total)>0,dimmed:!O(o-1)}]),onClick:T=>N(o-1)},[s("div",ee,[s("span",te,"Level "+r(o-1),1),((p=f.value[o-1])==null?void 0:p.total)>0?(n(),a("div",se,[W(F,{percent:((l=f.value[o-1])==null?void 0:l.avgRetention)||0,size:40,"stroke-width":4,"show-label":!0},null,8,["percent"]),s("span",oe,r(f.value[o-1].completed)+"/"+r(f.value[o-1].total),1)])):(n(),a("div",ne,[...e[4]||(e[4]=[s("span",{class:"level-empty-circle"},"‚óã",-1),s("span",{class:"level-stats-text"},"0/0",-1)])]))])],10,Z)}),64))]),s("div",ae,[s("button",{class:g(["category-filter-btn gamepad-focusable",{active:c.value===null}]),onClick:e[1]||(e[1]=o=>R(null))},[e[5]||(e[5]=s("span",{class:"category-icon"},"üåê",-1)),e[6]||(e[6]=s("span",{class:"category-label"},"All Topics",-1)),u.value!==null?(n(),a("span",le,r(S.value.length),1)):x("",!0)],2),(n(!0),a(m,null,y(S.value,o=>(n(),a("button",{key:o,class:g(["category-filter-btn gamepad-focusable",{active:c.value===o}]),onClick:d=>R(o)},[s("span",ce,r(A(o)),1),s("span",ie,r($(o)),1),s("span",ue,r(z.value[o]||0),1)],10,re))),128))]),b.value?(n(),a("div",de," Loading concepts... ")):L.value.length===0?(n(),a("div",ve,[e[7]||(e[7]=s("div",{class:"text-4xl mb-4"},"üìö",-1)),e[8]||(e[8]=s("div",{class:"text-text-secondary"},"No concepts match your filters",-1)),s("button",{class:"mt-4 px-4 py-2 text-accent-primary border border-accent-primary rounded-lg gamepad-focusable",onClick:e[2]||(e[2]=o=>{u.value=null,c.value=null})}," Clear Filters ")])):(n(),a("div",pe,[(n(!0),a(m,null,y(E.value,o=>(n(),a("div",{key:o,class:"level-section mb-10"},[s("div",ge,[s("h2",fe,[s("span",me,"Level "+r(o),1),s("span",ye,r(G(o)),1)])]),s("div",_e,[(n(!0),a(m,null,y(B.value[o],(d,p)=>(n(),a("div",{key:p,class:"category-section"},[s("h3",be,[s("span",he,r(A(p)),1),s("span",xe,r($(p)),1),s("span",ke,"("+r(d.length)+")",1)]),s("div",Ce,[(n(!0),a(m,null,y(d,l=>(n(),a("div",{key:l.id,class:g(["concept-card cursor-pointer gamepad-focusable",{bonus:l.bonus}]),onClick:T=>I(l.id)},[s("div",Se,[s("div",Le,[s("div",Be,[l.bonus?(n(),a("div",Ne,"Extra Credit")):x("",!0)]),s("h3",Re,r(l.name),1),s("div",$e,[e[9]||(e[9]=s("span",{class:"time-icon"},"‚è±Ô∏è",-1)),s("span",Ae,r(l.time_to_read)+"s read",1)])]),s("div",Fe,[l.progress?(n(),J(F,{key:0,percent:l.progress.retention,size:48,"stroke-width":4,"show-label":!0},null,8,["percent"])):(n(),a("div",Ve,[...e[10]||(e[10]=[s("span",{class:"empty-icon"},"‚óã",-1)])])),l.progress?(n(),a("div",{key:2,class:g(["progress-label",{"needs-review":l.progress.needs_review,mastered:l.progress.mastered}])},r(l.progress.mastered?"Mastered!":l.progress.needs_review?"Review!":l.progress.days_since<1?"Fresh!":`${Math.round(l.progress.days_since)}d ago`),3)):x("",!0)])])],10,we))),128))])]))),128))])]))),128))]))]))}}),Oe=K(je,[["__scopeId","data-v-72911355"]]);export{Oe as default};
