import{v as pt,r as m,c as Q,d as at,u as ct,x as vt,o as ot,l as mt,b as l,g as t,e as lt,f as x,F as j,i as Y,p as f,t as a,n as W,k as o,_ as nt,h as p,y as Z,z as tt,s as bt,a as gt,m as V,G as ft,q as xt,j as yt}from"./index-B7Pz_r6u.js";import{u as ht}from"./player-BuDOBLgw.js";import{a as A}from"./client-H5C7n97n.js";const _t=pt("auth",()=>{const G=m(!1),r=m(null),u=m("default"),C=m(null),v=m(null),b=m(!1),s=m(null),P=m(!1),_=m([]),M=Q(()=>{var c;return((c=C.value)==null?void 0:c.needs_auth)??!1}),N=Q(()=>{var c;return((c=C.value)==null?void 0:c.has_password)??!1}),F=Q(()=>{var c;return((c=C.value)==null?void 0:c.has_gamepad_combo)??!1});async function E(){b.value=!0,s.value=null;try{const c=await A.get(`/api/auth/status?player_id=${u.value}`);C.value=c.data,c.data.needs_auth||(G.value=!0);const w=localStorage.getItem("lmsp_session");w&&(await R(w)?(r.value=w,G.value=!0):localStorage.removeItem("lmsp_session")),c.data.has_gamepad_combo&&await B()}catch(c){s.value=c instanceof Error?c.message:"Failed to check auth status"}finally{b.value=!1}}async function B(){try{const c=await A.get(`/api/auth/get-gamepad-combo?player_id=${u.value}`);v.value=c.data}catch(c){console.error("Failed to load combo info:",c)}}async function R(c){try{return(await A.get(`/api/auth/session/${c}`)).data.valid}catch{return!1}}async function I(c){var w,y;b.value=!0,s.value=null;try{const g=await A.post("/api/auth/verify-password",{player_id:u.value,password:c});return g.data.success?(G.value=!0,g.data.session_id&&(r.value=g.data.session_id,localStorage.setItem("lmsp_session",g.data.session_id)),!0):!1}catch(g){const h=g;return s.value=((y=(w=h==null?void 0:h.response)==null?void 0:w.data)==null?void 0:y.error)||"Login failed",!1}finally{b.value=!1}}async function i(c){var w,y;b.value=!0,s.value=null;try{const g=await A.post("/api/auth/verify-gamepad-combo",{player_id:u.value,combo:c});return g.data.success?(G.value=!0,g.data.session_id&&(r.value=g.data.session_id,localStorage.setItem("lmsp_session",g.data.session_id)),!0):!1}catch(g){const h=g;return s.value=((y=(w=h==null?void 0:h.response)==null?void 0:w.data)==null?void 0:y.error)||"Combo verification failed",!1}finally{b.value=!1}}async function $(c,w){var y,g;b.value=!0,s.value=null;try{return(await A.post("/api/auth/set-password",{player_id:u.value,password:c,current_password:w})).data.success?(await E(),!0):!1}catch(h){const O=h;return s.value=((g=(y=O==null?void 0:O.response)==null?void 0:y.data)==null?void 0:g.error)||"Failed to set password",!1}finally{b.value=!1}}async function k(c){var w,y;b.value=!0,s.value=null;try{return(await A.post("/api/auth/remove-password",{player_id:u.value,password:c})).data.success?(await E(),!0):!1}catch(g){const h=g;return s.value=((y=(w=h==null?void 0:h.response)==null?void 0:w.data)==null?void 0:y.error)||"Failed to remove password",!1}finally{b.value=!1}}async function L(c,w){var y,g;b.value=!0,s.value=null;try{return(await A.post("/api/auth/set-gamepad-combo",{player_id:u.value,combo:c,password:w})).data.success?(await E(),await B(),!0):!1}catch(h){const O=h;return s.value=((g=(y=O==null?void 0:O.response)==null?void 0:y.data)==null?void 0:g.error)||"Failed to set gamepad combo",!1}finally{b.value=!1}}async function H(c){var w,y;b.value=!0,s.value=null;try{return(await A.post("/api/auth/remove-gamepad-combo",{player_id:u.value,password:c})).data.success?(await E(),v.value=null,!0):!1}catch(g){const h=g;return s.value=((y=(w=h==null?void 0:h.response)==null?void 0:w.data)==null?void 0:y.error)||"Failed to remove gamepad combo",!1}finally{b.value=!1}}async function S(){if(r.value)try{await A.post("/api/auth/logout",{session_id:r.value})}catch{}r.value=null,G.value=!1,localStorage.removeItem("lmsp_session")}function U(){P.value=!0,_.value=[]}function et(c){_.value.length<10&&_.value.push(c)}function J(){_.value=[]}function st(){P.value=!1,_.value=[]}return{isAuthenticated:G,sessionId:r,playerId:u,authStatus:C,comboInfo:v,isLoading:b,error:s,isEnrollingCombo:P,enrollmentCombo:_,needsAuth:M,hasPassword:N,hasGamepadCombo:F,checkAuthStatus:E,loginWithPassword:I,loginWithGamepadCombo:i,setPassword:$,removePassword:k,setGamepadCombo:L,removeGamepadCombo:H,logout:S,startComboEnrollment:U,addToEnrollmentCombo:et,clearEnrollmentCombo:J,cancelComboEnrollment:st}}),wt={class:"combo-recorder"},kt={class:"combo-display"},St={key:0,class:"combo-placeholder"},Ct={class:"recorder-status"},$t={key:0,class:"status-hint"},Pt={key:1,class:"status-hint"},It={key:2,class:"status-confirming"},Dt={class:"hold-progress"},Tt={class:"recorder-actions"},jt=["disabled"],Et=8,Lt=at({__name:"GamepadComboRecorder",emits:["combo-recorded","cancel"],setup(G,{emit:r}){const u=r,C=ct(),v=m([]),b=m(!0),s=m(!1),P=m(null),_=m(0),M={A:"A",B:"B",X:"X",Y:"Y",DPadUp:"UP",DPadDown:"DOWN",DPadLeft:"LEFT",DPadRight:"RIGHT",LB:"L1",RB:"R1"},N=m({});vt(()=>C.buttons,i=>{if(!b.value)return;for(const[k,L]of Object.entries(M)){const H=i[k],S=N.value[k];H&&!S&&v.value.length<Et&&v.value.push(L)}N.value={...i};const $=i.L3&&i.R3;$&&!s.value?(s.value=!0,P.value=Date.now()):$||(s.value=!1,P.value=null,_.value=0)},{deep:!0});let F=null;ot(()=>{F=window.setInterval(()=>{if(s.value&&P.value&&v.value.length>=2){const i=Date.now()-P.value;_.value=Math.min(100,i/1500*100),i>=1500&&E()}},50)}),mt(()=>{F&&clearInterval(F)});function E(){if(v.value.length>=2){const i=[...v.value,"L3+R3"];b.value=!1,u("combo-recorded",i)}}function B(){v.value=[]}function R(){u("cancel")}function I(i){return{A:"btn-a",B:"btn-b",X:"btn-x",Y:"btn-y",UP:"btn-dpad",DOWN:"btn-dpad",LEFT:"btn-dpad",RIGHT:"btn-dpad",L1:"btn-shoulder",R1:"btn-shoulder","L3+R3":"btn-stick"}[i]||"btn-default"}return(i,$)=>(o(),l("div",wt,[$[0]||($[0]=t("div",{class:"recorder-header"},[t("h3",null,"Record Gamepad Combo"),t("p",{class:"text-text-secondary text-sm"}," Press buttons to create your unlock sequence, then hold both sticks (L3+R3) to confirm. ")],-1)),t("div",kt,[(o(!0),l(j,null,Y(v.value,(k,L)=>(o(),l("div",{key:L,class:f(["combo-button",I(k)])},a(k),3))),128)),v.value.length===0?(o(),l("div",St," Press buttons... ")):x("",!0)]),t("div",Ct,[v.value.length<2?(o(),l("div",$t," Add at least 2 buttons to your combo ")):s.value?(o(),l("div",It,[t("div",Dt,[t("div",{class:"hold-bar",style:W({width:`${_.value}%`})},null,4)]),t("span",null,"Hold to confirm... "+a(Math.round(_.value))+"%",1)])):(o(),l("div",Pt," Hold L3 + R3 together to confirm "))]),t("div",Tt,[t("button",{class:"oled-button",onClick:B,disabled:v.value.length===0}," Clear ",8,jt),t("button",{class:"oled-button",onClick:R}," Cancel ")]),$[1]||($[1]=lt('<div class="gamepad-hint" data-v-19e9b041><div class="hint-row" data-v-19e9b041><span class="hint-button btn-y" data-v-19e9b041>Y</span><span class="hint-button btn-x" data-v-19e9b041>X</span><span class="hint-button btn-b" data-v-19e9b041>B</span><span class="hint-button btn-a" data-v-19e9b041>A</span><span class="hint-label" data-v-19e9b041>Face Buttons</span></div><div class="hint-row" data-v-19e9b041><span class="hint-button btn-dpad" data-v-19e9b041>‚Üë‚Üì‚Üê‚Üí</span><span class="hint-label" data-v-19e9b041>D-Pad</span></div><div class="hint-row" data-v-19e9b041><span class="hint-button btn-shoulder" data-v-19e9b041>L1/R1</span><span class="hint-label" data-v-19e9b041>Shoulders</span></div></div>',1))]))}}),Nt=nt(Lt,[["__scopeId","data-v-19e9b041"]]),Rt={class:"security-settings"},At={class:"status-card mb-6"},Gt={class:"status-grid"},Mt={class:"status-item"},Ft={class:"status-item"},Bt={key:0,class:"text-sm text-text-muted mt-2"},Ht={class:"settings-section"},Ut={key:0,class:"form-group"},Ot={class:"form-group"},Vt={class:"form-group"},Yt={key:1,class:"message error"},Wt={key:2,class:"message success"},qt={class:"form-actions"},zt=["disabled"],Xt=["disabled"],Kt={class:"settings-section"},Jt={key:1,class:"form-actions"},Qt=["disabled"],Zt={key:2,class:"message success mt-3"},te=at({__name:"SecuritySettings",setup(G){const r=_t(),u=m(""),C=m(""),v=m(""),b=m(""),s=m(""),P=m(!1),_=m("");ot(()=>{r.checkAuthStatus()});async function M(){if(b.value="",s.value="",u.value.length<4){b.value="Password must be at least 4 characters";return}if(u.value!==C.value){b.value="Passwords do not match";return}await r.setPassword(u.value,r.hasPassword?v.value:void 0)?(s.value="Password set successfully!",u.value="",C.value="",v.value=""):b.value=r.error||"Failed to set password"}async function N(){if(!v.value){b.value="Enter current password to remove";return}await r.removePassword(v.value)?(s.value="Password removed",v.value=""):b.value=r.error||"Failed to remove password"}function F(){P.value=!0,_.value=""}async function E(I){P.value=!1,await r.setGamepadCombo(I,r.hasPassword?v.value:void 0)&&(_.value=`Gamepad combo set: ${I.join(" ‚Üí ")}`)}function B(){P.value=!1}async function R(){await r.removeGamepadCombo(r.hasPassword?v.value:void 0)&&(_.value="Gamepad combo removed")}return(I,i)=>{var $;return o(),l("div",Rt,[i[9]||(i[9]=t("h2",{class:"text-xl font-bold mb-6"},"Security Settings",-1)),t("div",At,[i[3]||(i[3]=t("h3",{class:"font-semibold mb-3"},"Current Protection",-1)),t("div",Gt,[t("div",Mt,[t("span",{class:f(["status-icon",p(r).hasPassword?"active":"inactive"])},a(p(r).hasPassword?"üîê":"üîì"),3),t("span",null,"Password: "+a(p(r).hasPassword?"Enabled":"Not set"),1)]),t("div",Ft,[t("span",{class:f(["status-icon",p(r).hasGamepadCombo?"active":"inactive"])},a((p(r).hasGamepadCombo,"üéÆ")),3),t("span",null,"Gamepad Combo: "+a(p(r).hasGamepadCombo?"Enabled":"Not set"),1)])]),($=p(r).comboInfo)!=null&&$.hint?(o(),l("p",Bt," Combo hint: "+a(p(r).comboInfo.hint),1)):x("",!0)]),t("div",Ht,[i[6]||(i[6]=t("h3",{class:"font-semibold mb-3"},"Password Protection",-1)),p(r).hasPassword?(o(),l("div",Ut,[i[4]||(i[4]=t("label",null,"Current Password",-1)),Z(t("input",{"onUpdate:modelValue":i[0]||(i[0]=k=>v.value=k),type:"password",class:"oled-input",placeholder:"Enter current password"},null,512),[[tt,v.value]])])):x("",!0),t("div",Ot,[t("label",null,a(p(r).hasPassword?"New Password":"Set Password"),1),Z(t("input",{"onUpdate:modelValue":i[1]||(i[1]=k=>u.value=k),type:"password",class:"oled-input",placeholder:"Enter password (min 4 characters)"},null,512),[[tt,u.value]])]),t("div",Vt,[i[5]||(i[5]=t("label",null,"Confirm Password",-1)),Z(t("input",{"onUpdate:modelValue":i[2]||(i[2]=k=>C.value=k),type:"password",class:"oled-input",placeholder:"Confirm password"},null,512),[[tt,C.value]])]),b.value?(o(),l("div",Yt,a(b.value),1)):x("",!0),s.value?(o(),l("div",Wt,a(s.value),1)):x("",!0),t("div",qt,[t("button",{class:"oled-button-primary",onClick:M,disabled:p(r).isLoading},a(p(r).hasPassword?"Change Password":"Set Password"),9,zt),p(r).hasPassword?(o(),l("button",{key:0,class:"oled-button",onClick:N,disabled:p(r).isLoading}," Remove Password ",8,Xt)):x("",!0)])]),t("div",Kt,[i[7]||(i[7]=t("h3",{class:"font-semibold mb-3"},"Gamepad Combo Unlock",-1)),i[8]||(i[8]=t("p",{class:"text-sm text-text-secondary mb-4"}," Set a custom button sequence to unlock with your gamepad. Perfect for couch gaming when you don't want to type a password! ",-1)),P.value?(o(),bt(Nt,{key:0,onComboRecorded:E,onCancel:B})):(o(),l("div",Jt,[t("button",{class:"oled-button-primary",onClick:F},a(p(r).hasGamepadCombo?"Change Combo":"Set Gamepad Combo"),1),p(r).hasGamepadCombo?(o(),l("button",{key:0,class:"oled-button",onClick:R,disabled:p(r).isLoading}," Remove Combo ",8,Qt)):x("",!0)])),_.value?(o(),l("div",Zt,a(_.value),1)):x("",!0)]),i[10]||(i[10]=lt('<div class="help-section" data-v-3a9a9110><h4 class="font-medium mb-2" data-v-3a9a9110>How Security Works</h4><ul class="text-sm text-text-secondary space-y-1" data-v-3a9a9110><li data-v-3a9a9110>‚Ä¢ <strong data-v-3a9a9110>No protection:</strong> Anyone can access your progress</li><li data-v-3a9a9110>‚Ä¢ <strong data-v-3a9a9110>Password only:</strong> Requires password to access</li><li data-v-3a9a9110>‚Ä¢ <strong data-v-3a9a9110>Gamepad combo only:</strong> Enter combo to unlock (great for couch gaming!)</li><li data-v-3a9a9110>‚Ä¢ <strong data-v-3a9a9110>Both:</strong> Either method works to unlock</li></ul><p class="text-sm text-text-muted mt-3" data-v-3a9a9110> Tip: For casual home use, a gamepad combo is fun and easy. For shared computers, set a password too. </p></div>',1))])}}}),ee=nt(te,[["__scopeId","data-v-3a9a9110"]]),se={class:"h-full flex flex-col lg:flex-row"},ae={class:"settings-nav shrink-0 border-b lg:border-b-0 lg:border-r border-oled-border bg-oled-panel/30"},oe={class:"flex lg:flex-col overflow-x-auto lg:overflow-visible p-2 lg:p-4 gap-1 lg:gap-2 lg:w-56"},le=["onClick"],ne={class:"text-lg lg:text-xl"},ie={class:"hidden sm:inline lg:inline"},de={class:"flex-1 overflow-y-auto p-4 lg:p-8"},re={class:"max-w-4xl mx-auto"},ue={key:0,class:"settings-section"},ce={class:"oled-panel mb-6"},ve={class:"space-y-4"},me={class:"flex items-center gap-3"},pe={key:0,class:"text-accent-success text-sm animate-pulse"},be={class:"oled-panel"},ge={class:"grid grid-cols-2 gap-3"},fe={key:1,class:"settings-section"},xe={class:"oled-panel mb-6"},ye={class:"grid grid-cols-3 gap-2"},he={key:0,class:"oled-panel"},_e={class:"flex items-center justify-between mb-4"},we={class:"px-2 py-1 text-xs bg-accent-success/20 text-accent-success rounded-full"},ke=["title"],Se={class:"grid grid-cols-2 gap-6 mb-6"},Ce={class:"flex justify-between text-sm text-text-muted mb-2"},$e={class:"font-mono"},Pe={class:"trigger-bar h-3"},Ie={class:"flex justify-between text-sm text-text-muted mb-2"},De={class:"font-mono"},Te={class:"trigger-bar h-3"},je={class:"grid grid-cols-2 gap-6 mb-6"},Ee={class:"text-center"},Le={class:"relative w-24 h-24 mx-auto bg-oled-black rounded-full border border-oled-border"},Ne={class:"text-xs text-text-muted mt-2 font-mono"},Re={class:"text-center"},Ae={class:"relative w-24 h-24 mx-auto bg-oled-black rounded-full border border-oled-border"},Ge={class:"text-xs text-text-muted mt-2 font-mono"},Me={class:"flex flex-wrap gap-1"},Fe={key:1,class:"oled-panel"},Be={key:2,class:"settings-section"},He={class:"oled-panel"},Ue={key:3,class:"settings-section"},Oe={key:0,class:"oled-panel mb-6 border-accent-primary/50"},Ve={class:"flex items-start gap-4"},Ye={class:"text-3xl"},We={class:"flex-1"},qe={class:"font-semibold text-accent-primary mb-1"},ze={class:"text-text-secondary text-sm mb-3"},Xe={class:"flex flex-wrap gap-2"},Ke={class:"oled-panel mb-6"},Je={class:"grid grid-cols-3 gap-3"},Qe={class:"oled-panel mb-6"},Ze={class:"grid grid-cols-3 gap-3"},ts={class:"oled-panel mb-6"},es={class:"flex items-center justify-between p-3 rounded-lg hover:bg-oled-panel/50 cursor-pointer"},ss={class:"oled-panel"},as={class:"flex items-center justify-between mb-4"},os=["title"],ls={class:"text-xl"},ns={class:"flex items-start gap-3"},is={class:"text-lg"},ds={class:"text-sm"},rs={class:"text-text-secondary"},us={key:4,class:"settings-section"},cs={key:0,class:"oled-panel text-center py-8"},vs={key:1,class:"oled-panel border-red-500/30"},ms={class:"text-center py-8 text-red-400"},ps={class:"oled-panel mb-6"},bs={class:"flex items-center justify-between mb-4"},gs={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},fs={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},xs={class:"text-2xl font-bold text-accent-primary"},ys={class:"mt-2 h-2 bg-oled-border rounded-full overflow-hidden"},hs={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},_s={class:"mt-2 h-2 bg-oled-border rounded-full overflow-hidden"},ws={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},ks={class:"text-2xl font-bold text-text-primary"},Ss={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},Cs={class:"oled-panel mb-6"},$s={class:"grid grid-cols-2 lg:grid-cols-4 gap-4"},Ps={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},Is={class:"text-2xl font-bold text-accent-success"},Ds={class:"text-xs text-text-muted mt-2"},Ts={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},js={class:"text-2xl font-bold text-accent-primary"},Es={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},Ls={class:"text-xs text-text-muted mt-2"},Ns={class:"bg-oled-black rounded-lg p-4 border border-oled-border"},Rs={class:"text-2xl font-bold text-text-primary"},As={class:"oled-panel mb-6"},Gs={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ms={class:"space-y-2"},Fs=["onClick"],Bs={class:"flex items-center justify-between"},Hs={class:"text-text-primary font-medium"},Us={class:"flex items-center gap-2"},Os={class:"text-accent-warning font-bold"},Vs={key:0,class:"text-xs text-text-muted mt-1"},Ys={key:1,class:"bg-accent-success/5 border border-accent-success/20 rounded-lg p-4 text-center"},Ws={key:0},qs={class:"space-y-2"},zs={class:"flex items-center justify-between"},Xs={class:"text-text-primary font-medium"},Ks={class:"text-accent-success font-bold"},Js={key:0,class:"text-xs text-accent-success mt-1"},Qs={key:1,class:"lg:col-span-1"},Zs={class:"oled-panel mb-6"},ta={key:0,class:"text-center py-8 text-text-muted"},ea={key:1,class:"space-y-3"},sa={class:"flex items-start justify-between gap-4"},aa={class:"flex-1"},oa={class:"flex items-center gap-2 mb-1"},la={class:"text-xs text-text-muted"},na={class:"text-text-primary"},ia={class:"text-xs text-text-muted mt-1"},da={key:0,class:"oled-panel mb-6"},ra={class:"space-y-4"},ua={class:"flex items-center gap-4"},ca={class:"flex-1"},va={class:"h-2 bg-oled-border rounded-full overflow-hidden relative"},ma={class:"flex justify-between text-xs text-text-muted mt-1"},pa={class:"p-3 bg-oled-black rounded-lg border border-oled-border"},ba={class:"text-text-primary"},ga={key:0,class:"grid grid-cols-2 gap-4"},fa={key:0},xa={class:"flex flex-wrap gap-1"},ya={key:1},ha={class:"flex flex-wrap gap-1"},_a=at({__name:"SettingsView",setup(G){const r=yt(),u=ct(),C=ht();gt({onBack:()=>r.push("/")});const v=m("profile"),b=[{id:"profile",label:"Profile",icon:"üë§"},{id:"input",label:"Input",icon:"üéÆ"},{id:"security",label:"Security",icon:"üîí"},{id:"difficulty",label:"Difficulty",icon:"‚ö°"},{id:"ai",label:"The Director",icon:"üß†"}];vt(v,d=>{localStorage.setItem("lmsp_settings_tab",d)});const s=m(null),P=m(!1),_=m(null);let M=null;async function N(){P.value=!0,_.value=null;try{const d=await fetch(`/api/director/state?player_id=${C.playerId}`);if(!d.ok)throw new Error("Failed to fetch Director state");s.value=await d.json()}catch(d){_.value=d instanceof Error?d.message:"Unknown error"}finally{P.value=!1}}function F(d){return{syntax_error:"Syntax Error",type_error:"Type Error",logic_error:"Logic Error",concept_gap:"Concept Gap",pattern:"Unfamiliar Pattern",tooling:"Tooling Confusion",frustration:"Frustration Spiral"}[d]||d}function E(d){return{syntax_error:"text-red-400",type_error:"text-orange-400",logic_error:"text-yellow-400",concept_gap:"text-blue-400",pattern:"text-purple-400",tooling:"text-gray-400",frustration:"text-pink-400"}[d]||"text-text-secondary"}function B(d){const e=new Date(d),D=Math.floor((new Date().getTime()-e.getTime())/1e3);return D<60?"just now":D<3600?`${Math.floor(D/60)}m ago`:D<86400?`${Math.floor(D/3600)}h ago`:`${Math.floor(D/86400)}d ago`}const R=m(""),I=m(!1),i=m("auto"),$=m("oled"),k=m("normal"),L=m("partial"),H=m(!0),S=m(!0),U=m(null),et=Q(()=>{var d;if(!S.value||!((d=s.value)!=null&&d.difficulty_suggestion))return!1;if(U.value){const e=new Date(U.value).getTime(),T=Date.now(),D=30*60*1e3;if(T-e<D)return!1}return!0});function J(d=!1){d?(S.value=!1,localStorage.setItem("lmsp_auto_suggestions","false")):(U.value=new Date().toISOString(),localStorage.setItem("lmsp_suggestion_dismissed_at",U.value))}function st(){var e;const d=(e=s.value)==null?void 0:e.difficulty_suggestion;d&&(y(d.suggested_difficulty),g(d.suggested_hints),U.value=null,localStorage.removeItem("lmsp_suggestion_dismissed_at"))}function c(){S.value=!S.value,localStorage.setItem("lmsp_auto_suggestions",String(S.value)),S.value&&(U.value=null,localStorage.removeItem("lmsp_suggestion_dismissed_at"))}ot(()=>{const d=localStorage.getItem("lmsp_settings_tab");d&&b.some(q=>q.id===d)&&(v.value=d);const e=localStorage.getItem("lmsp_difficulty");e&&(k.value=e);const T=localStorage.getItem("lmsp_hint_level");T&&(L.value=T);const D=localStorage.getItem("lmsp_auto_advance");D!==null&&(H.value=D==="true");const X=localStorage.getItem("lmsp_auto_suggestions");X!==null&&(S.value=X==="true");const K=localStorage.getItem("lmsp_suggestion_dismissed_at");K&&(U.value=K),C.loadProfile().then(()=>{var q;(q=C.profile)!=null&&q.display_name&&(R.value=C.profile.display_name),N()}),M=setInterval(()=>{(v.value==="ai"||v.value==="difficulty")&&N()},5e3)}),mt(()=>{M&&clearInterval(M)});async function w(){const d=R.value.trim();if(!d)return;await C.setDisplayName(d)&&(I.value=!0,setTimeout(()=>{I.value=!1},2e3))}function y(d){k.value=d,localStorage.setItem("lmsp_difficulty",d)}function g(d){L.value=d,localStorage.setItem("lmsp_hint_level",d)}function h(d){H.value=d,localStorage.setItem("lmsp_auto_advance",String(d))}async function O(d){try{const T=await(await fetch(`/api/director/practice-challenge?concept=${encodeURIComponent(d)}`)).json();T.found&&T.challenge_id?r.push(`/challenge/${T.challenge_id}`):r.push(`/challenge/${d}`)}catch{r.push(`/challenge/${d}`)}}return(d,e)=>{var T,D,X,K,q,it,dt,rt,ut;return o(),l("div",se,[t("nav",ae,[t("div",oe,[(o(),l(j,null,Y(b,n=>t("button",{key:n.id,class:f(["settings-tab gamepad-focusable whitespace-nowrap",{active:v.value===n.id}]),onClick:z=>v.value=n.id},[t("span",ne,a(n.icon),1),t("span",ie,a(n.label),1)],10,le)),64))])]),t("main",de,[t("div",re,[v.value==="profile"?(o(),l("section",ue,[e[22]||(e[22]=t("h1",{class:"text-2xl lg:text-3xl font-bold mb-6"},[t("span",{class:"text-accent-primary"},"üë§"),V(" Profile ")],-1)),t("div",ce,[e[18]||(e[18]=t("h2",{class:"text-lg font-semibold mb-4"},"Player Identity",-1)),t("div",ve,[t("div",null,[e[16]||(e[16]=t("label",{for:"player-name",class:"text-sm text-text-secondary block mb-2"}," Display Name ",-1)),t("div",me,[Z(t("input",{id:"player-name","onUpdate:modelValue":e[0]||(e[0]=n=>R.value=n),type:"text",placeholder:"Enter your name...",class:"flex-1 max-w-xs px-4 py-2 bg-oled-black border border-oled-border rounded-lg text-text-primary placeholder-text-muted focus:border-accent-primary focus:outline-none",onBlur:w,onKeyup:e[1]||(e[1]=ft(n=>n.target.blur(),["enter"]))},null,544),[[tt,R.value]]),I.value?(o(),l("span",pe,"Saved ‚úì")):x("",!0)]),e[17]||(e[17]=t("p",{class:"text-xs text-text-muted mt-2"},"Used for achievements and leaderboards",-1))])])]),t("div",be,[e[21]||(e[21]=t("h2",{class:"text-lg font-semibold mb-4"},"Theme",-1)),t("div",ge,[t("button",{class:f(["oled-button py-6 gamepad-focusable text-center",{"border-accent-primary text-accent-primary":$.value==="oled"}]),onClick:e[2]||(e[2]=n=>$.value="oled")},[...e[19]||(e[19]=[t("div",{class:"text-3xl mb-2"},"üåë",-1),t("div",{class:"font-medium"},"OLED Black",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Pure black (#000)",-1)])],2),t("button",{class:f(["oled-button py-6 gamepad-focusable text-center",{"border-accent-primary text-accent-primary":$.value==="dark"}]),onClick:e[3]||(e[3]=n=>$.value="dark")},[...e[20]||(e[20]=[t("div",{class:"text-3xl mb-2"},"üåô",-1),t("div",{class:"font-medium"},"Dark",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Soft dark theme",-1)])],2)])])])):x("",!0),v.value==="input"?(o(),l("section",fe,[e[35]||(e[35]=t("h1",{class:"text-2xl lg:text-3xl font-bold mb-6"},[t("span",{class:"text-accent-primary"},"üéÆ"),V(" Input ")],-1)),t("div",xe,[e[23]||(e[23]=t("h2",{class:"text-lg font-semibold mb-4"},"Input Mode",-1)),t("div",ye,[t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":i.value==="keyboard"}]),onClick:e[4]||(e[4]=n=>i.value="keyboard")}," ‚å®Ô∏è Keyboard ",2),t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":i.value==="gamepad"}]),onClick:e[5]||(e[5]=n=>i.value="gamepad")}," üéÆ Gamepad ",2),t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":i.value==="auto"}]),onClick:e[6]||(e[6]=n=>i.value="auto")}," ‚ú® Auto ",2)])]),p(u).connected?(o(),l("div",he,[t("div",_e,[e[24]||(e[24]=t("h2",{class:"text-lg font-semibold"},"Gamepad Connected",-1)),t("span",we,a(p(u).profileName),1)]),t("p",{class:"text-sm text-text-muted mb-4 font-mono truncate",title:p(u).controllerName},a(p(u).controllerName),9,ke),t("div",Se,[t("div",null,[t("div",Ce,[e[25]||(e[25]=t("span",null,"LT (Frustration)",-1)),t("span",$e,a(Math.round(p(u).leftTrigger*100))+"%",1)]),t("div",Pe,[t("div",{class:"trigger-fill-negative h-full",style:W({width:`${p(u).leftTrigger*100}%`})},null,4)])]),t("div",null,[t("div",Ie,[e[26]||(e[26]=t("span",null,"RT (Satisfaction)",-1)),t("span",De,a(Math.round(p(u).rightTrigger*100))+"%",1)]),t("div",Te,[t("div",{class:"trigger-fill-positive h-full",style:W({width:`${p(u).rightTrigger*100}%`})},null,4)])])]),t("div",je,[t("div",Ee,[e[29]||(e[29]=t("div",{class:"text-sm text-text-muted mb-2"},"Left Stick",-1)),t("div",Le,[e[27]||(e[27]=t("div",{class:"absolute top-1/2 left-0 right-0 h-px bg-oled-border/50"},null,-1)),e[28]||(e[28]=t("div",{class:"absolute left-1/2 top-0 bottom-0 w-px bg-oled-border/50"},null,-1)),t("div",{class:"absolute w-5 h-5 bg-accent-primary rounded-full -translate-x-1/2 -translate-y-1/2 shadow-lg transition-all duration-75",style:W({left:`${50+p(u).leftStick.x*40}%`,top:`${50+p(u).leftStick.y*40}%`})},null,4)]),t("div",Ne,a(p(u).leftStick.x.toFixed(2))+", "+a(p(u).leftStick.y.toFixed(2)),1)]),t("div",Re,[e[32]||(e[32]=t("div",{class:"text-sm text-text-muted mb-2"},"Right Stick",-1)),t("div",Ae,[e[30]||(e[30]=t("div",{class:"absolute top-1/2 left-0 right-0 h-px bg-oled-border/50"},null,-1)),e[31]||(e[31]=t("div",{class:"absolute left-1/2 top-0 bottom-0 w-px bg-oled-border/50"},null,-1)),t("div",{class:"absolute w-5 h-5 bg-accent-secondary rounded-full -translate-x-1/2 -translate-y-1/2 shadow-lg transition-all duration-75",style:W({left:`${50+p(u).rightStick.x*40}%`,top:`${50+p(u).rightStick.y*40}%`})},null,4)]),t("div",Ge,a(p(u).rightStick.x.toFixed(2))+", "+a(p(u).rightStick.y.toFixed(2)),1)])]),t("div",null,[e[33]||(e[33]=t("div",{class:"text-sm text-text-muted mb-2"},"Buttons",-1)),t("div",Me,[(o(!0),l(j,null,Y(p(u).buttons,(n,z)=>(o(),l("span",{key:z,class:f(["px-2 py-1 text-xs rounded font-mono transition-colors",n?"bg-accent-primary text-oled-black":"bg-oled-black text-text-muted"])},a(z),3))),128))])])])):(o(),l("div",Fe,[...e[34]||(e[34]=[t("div",{class:"text-center py-8 text-text-muted"},[t("div",{class:"text-4xl mb-3"},"üéÆ"),t("p",null,"No gamepad connected"),t("p",{class:"text-sm mt-2"},"Connect a controller and press any button")],-1)])]))])):x("",!0),v.value==="security"?(o(),l("section",Be,[e[36]||(e[36]=t("h1",{class:"text-2xl lg:text-3xl font-bold mb-6"},[t("span",{class:"text-accent-primary"},"üîí"),V(" Security ")],-1)),t("div",He,[xt(ee)])])):x("",!0),v.value==="difficulty"?(o(),l("section",Ue,[e[49]||(e[49]=t("h1",{class:"text-2xl lg:text-3xl font-bold mb-6"},[t("span",{class:"text-accent-primary"},"‚ö°"),V(" Difficulty & Progression ")],-1)),et.value&&((T=s.value)!=null&&T.difficulty_suggestion)?(o(),l("div",Oe,[t("div",Ve,[t("div",Ye,a(s.value.difficulty_suggestion.direction==="harder"?"üöÄ":"üíö"),1),t("div",We,[t("div",qe,a(s.value.difficulty_suggestion.direction==="harder"?"Ready for a Challenge?":"The Director Has a Suggestion"),1),t("p",ze,a(s.value.difficulty_suggestion.reason),1),t("div",Xe,[t("button",{class:"oled-button px-4 py-2 border-accent-primary text-accent-primary gamepad-focusable",onClick:st},a(s.value.difficulty_suggestion.direction==="harder"?"Bring It On!":"Sounds Good"),1),t("button",{class:"oled-button px-4 py-2 gamepad-focusable",onClick:e[7]||(e[7]=n=>J(!1))}," Not Now "),t("button",{class:"text-xs text-text-muted hover:text-text-secondary px-2",onClick:e[8]||(e[8]=n=>J(!0)),title:"Stop showing suggestions"}," Don't ask again ")])])])])):x("",!0),t("div",Ke,[e[40]||(e[40]=t("h2",{class:"text-lg font-semibold mb-4"},"Difficulty Level",-1)),t("div",Je,[t("button",{class:f(["oled-button py-4 gamepad-focusable text-center",{"border-accent-success text-accent-success":k.value==="easy"}]),onClick:e[9]||(e[9]=n=>y("easy"))},[...e[37]||(e[37]=[t("div",{class:"text-2xl mb-1"},"üå±",-1),t("div",{class:"font-medium"},"Easy",-1),t("div",{class:"text-xs text-text-muted mt-1"},"More hints, slower pace",-1)])],2),t("button",{class:f(["oled-button py-4 gamepad-focusable text-center",{"border-accent-primary text-accent-primary":k.value==="normal"}]),onClick:e[10]||(e[10]=n=>y("normal"))},[...e[38]||(e[38]=[t("div",{class:"text-2xl mb-1"},"‚öñÔ∏è",-1),t("div",{class:"font-medium"},"Normal",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Balanced experience",-1)])],2),t("button",{class:f(["oled-button py-4 gamepad-focusable text-center",{"border-accent-warning text-accent-warning":k.value==="hard"}]),onClick:e[11]||(e[11]=n=>y("hard"))},[...e[39]||(e[39]=[t("div",{class:"text-2xl mb-1"},"üî•",-1),t("div",{class:"font-medium"},"Hard",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Minimal hints, faster",-1)])],2)])]),t("div",Qe,[e[44]||(e[44]=t("h2",{class:"text-lg font-semibold mb-4"},"Hint Level",-1)),t("div",Ze,[t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":L.value==="full"}]),onClick:e[12]||(e[12]=n=>g("full"))},[...e[41]||(e[41]=[t("div",{class:"font-medium"},"Full Hints",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Complete guidance",-1)])],2),t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":L.value==="partial"}]),onClick:e[13]||(e[13]=n=>g("partial"))},[...e[42]||(e[42]=[t("div",{class:"font-medium"},"Partial",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Nudges only",-1)])],2),t("button",{class:f(["oled-button py-3 gamepad-focusable",{"border-accent-primary text-accent-primary":L.value==="none"}]),onClick:e[14]||(e[14]=n=>g("none"))},[...e[43]||(e[43]=[t("div",{class:"font-medium"},"No Hints",-1),t("div",{class:"text-xs text-text-muted mt-1"},"Figure it out",-1)])],2)])]),t("div",ts,[e[46]||(e[46]=t("h2",{class:"text-lg font-semibold mb-4"},"Progression",-1)),t("label",es,[e[45]||(e[45]=t("div",null,[t("div",{class:"font-medium"},"Auto-advance on completion"),t("div",{class:"text-sm text-text-muted"},"Automatically move to next challenge")],-1)),t("button",{class:f(["w-12 h-7 rounded-full transition-colors relative gamepad-focusable",H.value?"bg-accent-primary":"bg-oled-border"]),onClick:e[15]||(e[15]=n=>h(!H.value))},[t("div",{class:f(["absolute top-1 w-5 h-5 bg-white rounded-full transition-transform",H.value?"translate-x-6":"translate-x-1"])},null,2)],2)])]),t("div",ss,[t("div",as,[e[47]||(e[47]=t("h2",{class:"text-lg font-semibold"},"AI Difficulty Suggestions",-1)),t("button",{class:f(["p-2 rounded-lg hover:bg-oled-panel/50 transition-colors gamepad-focusable",S.value?"text-accent-primary":"text-text-muted"]),onClick:c,title:S.value?"Click to disable suggestions":"Click to enable suggestions"},[t("span",ls,a(S.value?"üîì":"üîí"),1)],10,os)]),t("div",{class:f(["p-3 rounded-lg",S.value?"bg-accent-primary/5 border border-accent-primary/20":"bg-oled-black border border-oled-border"])},[t("div",ns,[t("span",is,a(S.value?"üß†":"ü§´"),1),t("div",ds,[t("div",{class:f(["font-medium mb-1",S.value?"text-accent-primary":"text-text-muted"])},a(S.value?"Suggestions Enabled":"Suggestions Disabled"),3),t("p",rs,[S.value?(o(),l(j,{key:0},[V(" The Director will gently suggest difficulty changes based on your performance. You're always in control - suggestions are just that, suggestions. ")],64)):(o(),l(j,{key:1},[V(" The Director won't prompt you about difficulty changes. It will still silently optimize challenge recommendations for your skill level. ")],64))])])])],2),e[48]||(e[48]=t("p",{class:"text-xs text-text-muted mt-3"}," Note: Even with suggestions disabled, The Director still works behind the scenes to give you the best experience - it just won't ask to change your settings. ",-1))])])):x("",!0),v.value==="ai"?(o(),l("section",us,[e[85]||(e[85]=t("h1",{class:"text-2xl lg:text-3xl font-bold mb-2"},[t("span",{class:"text-accent-primary"},"üß†"),V(" The Director ")],-1)),e[86]||(e[86]=t("p",{class:"text-text-muted mb-6"}," The Director is an AI system that watches your learning journey and helps when you're stuck. This is YOUR data - we believe in full transparency. ",-1)),P.value&&!s.value?(o(),l("div",cs,[...e[50]||(e[50]=[t("div",{class:"animate-pulse text-4xl mb-3"},"üß†",-1),t("p",{class:"text-text-muted"},"Loading Director state...",-1)])])):_.value?(o(),l("div",vs,[t("div",ms,[e[51]||(e[51]=t("div",{class:"text-4xl mb-3"},"‚ö†Ô∏è",-1)),t("p",null,a(_.value),1),t("button",{class:"oled-button mt-4",onClick:N},"Retry")])])):s.value?(o(),l(j,{key:2},[t("div",ps,[t("div",bs,[e[52]||(e[52]=t("h2",{class:"text-lg font-semibold"},"Current Status",-1)),t("span",{class:f(["px-3 py-1 text-sm rounded-full",s.value.should_intervene?"bg-accent-warning/20 text-accent-warning":"bg-accent-success/20 text-accent-success"])},a(s.value.should_intervene?"Wants to Help":"Observing"),3)]),t("div",gs,[t("div",fs,[e[53]||(e[53]=t("div",{class:"text-sm text-text-muted mb-2"},"Momentum",-1)),t("div",xs,a(Math.round(s.value.momentum*100))+"% ",1),t("div",ys,[t("div",{class:"h-full bg-accent-primary transition-all",style:W({width:`${s.value.momentum*100}%`})},null,4)])]),t("div",hs,[e[54]||(e[54]=t("div",{class:"text-sm text-text-muted mb-2"},"Frustration",-1)),t("div",{class:f(["text-2xl font-bold",s.value.frustration_level>.7?"text-red-400":s.value.frustration_level>.4?"text-yellow-400":"text-accent-success"])},a(Math.round(s.value.frustration_level*100))+"% ",3),t("div",_s,[t("div",{class:f(["h-full transition-all",s.value.frustration_level>.7?"bg-red-400":s.value.frustration_level>.4?"bg-yellow-400":"bg-accent-success"]),style:W({width:`${s.value.frustration_level*100}%`})},null,6)])]),t("div",ws,[e[55]||(e[55]=t("div",{class:"text-sm text-text-muted mb-2"},"Code Submissions",-1)),t("div",ks,a(s.value.observation_count),1),e[56]||(e[56]=t("div",{class:"text-xs text-text-muted mt-2"},"Total observed",-1))]),t("div",Ss,[e[57]||(e[57]=t("div",{class:"text-sm text-text-muted mb-2"},"Active Struggles",-1)),t("div",{class:f(["text-2xl font-bold",s.value.active_struggles>0?"text-accent-warning":"text-accent-success"])},a(s.value.active_struggles),3),e[58]||(e[58]=t("div",{class:"text-xs text-text-muted mt-2"},"Being tracked",-1))])])]),t("div",Cs,[e[65]||(e[65]=t("h2",{class:"text-lg font-semibold mb-4"},"Learning Stats",-1)),t("div",$s,[t("div",Ps,[e[59]||(e[59]=t("div",{class:"text-sm text-text-muted mb-2"},"Success Rate",-1)),t("div",Is,a(s.value.total_successes+s.value.total_failures>0?Math.round(s.value.total_successes/(s.value.total_successes+s.value.total_failures)*100):0)+"% ",1),t("div",Ds,a(s.value.total_successes)+" / "+a(s.value.total_successes+s.value.total_failures),1)]),t("div",Ts,[e[60]||(e[60]=t("div",{class:"text-sm text-text-muted mb-2"},"First Try Rate",-1)),t("div",js,a(Math.round(s.value.first_try_rate*100))+"% ",1),e[61]||(e[61]=t("div",{class:"text-xs text-text-muted mt-2"},"Solved on first attempt",-1))]),t("div",Es,[e[62]||(e[62]=t("div",{class:"text-sm text-text-muted mb-2"},"Learning Velocity",-1)),t("div",{class:f(["text-2xl font-bold",{"text-accent-success":s.value.learning_velocity>0,"text-accent-warning":s.value.learning_velocity<0,"text-text-muted":s.value.learning_velocity===0}])},a(s.value.learning_velocity>0?"‚Üë":s.value.learning_velocity<0?"‚Üì":"‚Üí")+" "+a(Math.abs(s.value.learning_velocity*100).toFixed(0))+"% ",3),t("div",Ls,a(s.value.learning_velocity>.2?"Improving fast!":s.value.learning_velocity>0?"Getting better":s.value.learning_velocity<-.2?"Hit a rough patch":s.value.learning_velocity<0?"Slight slowdown":"Steady pace"),1)]),t("div",Ns,[e[63]||(e[63]=t("div",{class:"text-sm text-text-muted mb-2"},"Concepts Tracked",-1)),t("div",Rs,a(s.value.concepts_tracked),1),e[64]||(e[64]=t("div",{class:"text-xs text-text-muted mt-2"},"Mastery entries",-1))])])]),t("div",As,[e[73]||(e[73]=t("h2",{class:"text-lg font-semibold mb-4"},"Your Learning Journey",-1)),t("div",Gs,[t("div",null,[e[69]||(e[69]=t("div",{class:"text-sm text-accent-warning font-medium mb-3"},"üìö Needs Practice",-1)),(D=s.value.struggling_concepts)!=null&&D.length?(o(),l(j,{key:0},[e[67]||(e[67]=t("p",{class:"text-xs text-text-muted mb-3"},"Click to practice!",-1)),t("div",Ms,[(o(!0),l(j,null,Y(s.value.struggling_concepts,n=>(o(),l("button",{key:n.concept,class:"w-full text-left bg-accent-warning/5 border border-accent-warning/20 rounded-lg p-3 hover:bg-accent-warning/10 hover:border-accent-warning/40 transition-colors cursor-pointer gamepad-focusable",onClick:z=>O(n.concept)},[t("div",Bs,[t("span",Hs,a(n.concept),1),t("div",Us,[t("span",Os,a(Math.round(n.score*100))+"%",1),e[66]||(e[66]=t("span",{class:"text-accent-warning text-sm"},"‚Üí",-1))])]),n.failures&&n.failures>1?(o(),l("div",Vs,a(n.failures)+" attempts so far - you've got this! ",1)):x("",!0)],8,Fs))),128))])],64)):(o(),l("div",Ys,[...e[68]||(e[68]=[t("div",{class:"text-2xl mb-2"},"‚ú®",-1),t("p",{class:"text-sm text-accent-success font-medium"},"Nothing at the moment!",-1),t("p",{class:"text-xs text-text-muted mt-1"},"You're absolutely crushing it.",-1)])]))]),(X=s.value.mastered_concepts)!=null&&X.length?(o(),l("div",Ws,[e[70]||(e[70]=t("div",{class:"text-sm text-accent-success font-medium mb-3"},"üéâ Recent Wins",-1)),e[71]||(e[71]=t("p",{class:"text-xs text-text-muted mb-3"},"Look how far you've come!",-1)),t("div",qs,[(o(!0),l(j,null,Y(s.value.mastered_concepts,n=>(o(),l("div",{key:n.concept,class:"bg-accent-success/5 border border-accent-success/20 rounded-lg p-3"},[t("div",zs,[t("span",Xs,a(n.concept),1),t("span",Ks,a(Math.round(n.score*100))+"%",1)]),n.streak&&n.streak>1?(o(),l("div",Js," üî• "+a(n.streak)+" in a row! ",1)):x("",!0)]))),128))])])):x("",!0),!((K=s.value.mastered_concepts)!=null&&K.length)&&((q=s.value.struggling_concepts)!=null&&q.length)?(o(),l("div",Qs,[...e[72]||(e[72]=[t("div",{class:"bg-accent-primary/5 border border-accent-primary/20 rounded-lg p-4 text-center"},[t("div",{class:"text-2xl mb-2"},"üí™"),t("p",{class:"text-sm text-text-secondary"}," Every expert was once a beginner. You're building your wins right now! ")],-1)])])):x("",!0)])]),t("div",Zs,[e[75]||(e[75]=t("h2",{class:"text-lg font-semibold mb-4"},"What The Director Sees",-1)),s.value.struggles.length===0?(o(),l("div",ta,[...e[74]||(e[74]=[t("div",{class:"text-4xl mb-3"},"‚ú®",-1),t("p",null,"No struggles detected - you're doing great!",-1),t("p",{class:"text-sm mt-2"},"The Director is quietly watching and will help if needed.",-1)])])):(o(),l("div",ea,[(o(!0),l(j,null,Y(s.value.struggles,(n,z)=>(o(),l("div",{key:z,class:"bg-oled-black rounded-lg p-4 border border-oled-border"},[t("div",sa,[t("div",aa,[t("div",oa,[t("span",{class:f(["px-2 py-0.5 text-xs rounded font-medium",E(n.type)])},a(F(n.type)),3),t("span",la,a(n.frequency)+"x ",1)]),t("p",na,a(n.description),1),t("p",ia," First seen "+a(B(n.first_seen))+" ¬∑ Last seen "+a(B(n.last_seen)),1)])])]))),128))]))]),s.value.shadow_adjustments?(o(),l("div",da,[e[83]||(e[83]=t("h2",{class:"text-lg font-semibold mb-4"},[V(" Silent Optimization "),t("span",{class:"text-xs font-normal text-text-muted ml-2"},"(what The Director is doing behind the scenes)")],-1)),t("div",ra,[t("div",ua,[e[79]||(e[79]=t("div",{class:"w-32 text-sm text-text-muted"},"Difficulty Bias",-1)),t("div",ca,[t("div",va,[e[76]||(e[76]=t("div",{class:"absolute left-1/2 top-0 bottom-0 w-px bg-text-muted/30"},null,-1)),t("div",{class:f(["absolute top-0 bottom-0 transition-all",s.value.shadow_adjustments.difficulty_bias<0?"bg-accent-success":"bg-accent-warning"]),style:W({left:s.value.shadow_adjustments.difficulty_bias<0?`${50+s.value.shadow_adjustments.difficulty_bias*50}%`:"50%",width:`${Math.abs(s.value.shadow_adjustments.difficulty_bias)*50}%`})},null,6)]),t("div",ma,[e[77]||(e[77]=t("span",null,"Easier",-1)),t("span",null,a(s.value.shadow_adjustments.difficulty_bias>0?"+":"")+a((s.value.shadow_adjustments.difficulty_bias*100).toFixed(0))+"%",1),e[78]||(e[78]=t("span",null,"Harder",-1))])])]),t("div",pa,[e[80]||(e[80]=t("div",{class:"text-sm text-text-muted mb-1"},"Current Action",-1)),t("div",ba,a(s.value.shadow_adjustments.reason||"No adjustments needed"),1)]),(it=s.value.shadow_adjustments.avoid_concepts)!=null&&it.length||(dt=s.value.shadow_adjustments.prefer_concepts)!=null&&dt.length?(o(),l("div",ga,[(rt=s.value.shadow_adjustments.avoid_concepts)!=null&&rt.length?(o(),l("div",fa,[e[81]||(e[81]=t("div",{class:"text-sm text-text-muted mb-2"},"Temporarily Avoiding",-1)),t("div",xa,[(o(!0),l(j,null,Y(s.value.shadow_adjustments.avoid_concepts,n=>(o(),l("span",{key:n,class:"px-2 py-0.5 text-xs rounded bg-red-500/20 text-red-400"},a(n),1))),128))])])):x("",!0),(ut=s.value.shadow_adjustments.prefer_concepts)!=null&&ut.length?(o(),l("div",ya,[e[82]||(e[82]=t("div",{class:"text-sm text-text-muted mb-2"},"Building Momentum With",-1)),t("div",ha,[(o(!0),l(j,null,Y(s.value.shadow_adjustments.prefer_concepts,n=>(o(),l("span",{key:n,class:"px-2 py-0.5 text-xs rounded bg-accent-success/20 text-accent-success"},a(n),1))),128))])])):x("",!0)])):x("",!0)])])):x("",!0),e[84]||(e[84]=lt('<div class="oled-panel" data-v-f626da68><h2 class="text-lg font-semibold mb-4" data-v-f626da68>How It Works</h2><div class="space-y-4 text-sm text-text-secondary" data-v-f626da68><div class="flex gap-3" data-v-f626da68><span class="text-lg" data-v-f626da68>üëÄ</span><div data-v-f626da68><div class="font-medium text-text-primary" data-v-f626da68>Observes Submissions</div><p data-v-f626da68>Every time you submit code, The Director analyzes what happened.</p></div></div><div class="flex gap-3" data-v-f626da68><span class="text-lg" data-v-f626da68>üîç</span><div data-v-f626da68><div class="font-medium text-text-primary" data-v-f626da68>Detects Patterns</div><p data-v-f626da68>If you&#39;re struggling with the same concept repeatedly, it notices.</p></div></div><div class="flex gap-3" data-v-f626da68><span class="text-lg" data-v-f626da68>üí°</span><div data-v-f626da68><div class="font-medium text-text-primary" data-v-f626da68>Offers Help</div><p data-v-f626da68>When frustration gets high or you&#39;re stuck, it can offer hints or suggest easier challenges.</p></div></div><div class="flex gap-3" data-v-f626da68><span class="text-lg" data-v-f626da68>üéØ</span><div data-v-f626da68><div class="font-medium text-text-primary" data-v-f626da68>Creates Content</div><p data-v-f626da68>If existing challenges don&#39;t address your specific gap, it can generate new ones just for you.</p></div></div></div><div class="mt-6 p-4 bg-accent-primary/5 border border-accent-primary/20 rounded-lg" data-v-f626da68><div class="flex items-start gap-3" data-v-f626da68><span class="text-lg" data-v-f626da68>üíö</span><div class="text-sm" data-v-f626da68><div class="font-medium text-accent-primary mb-1" data-v-f626da68>Your Data, Your Control</div><p class="text-text-secondary" data-v-f626da68> LMSP is MIT-licensed and open source. The Director works for YOU, not advertisers. Everything it knows is shown right here. No hidden profiles, no dark patterns. </p></div></div></div></div>',1))],64)):x("",!0)])):x("",!0)])])])}}}),Ca=nt(_a,[["__scopeId","data-v-f626da68"]]);export{Ca as default};
