# Fibonacci Sequence Challenge
# From synthesis/FIBONNACI - Pattern recognition and sequence generation

[challenge]
id = "fibonacci_sequence"
name = "Fibonacci Sequence"
level = 2
prerequisites = ["for_loops_basics", "variables"]
category = "interview_prep"

[description]
brief = "Generate Fibonacci numbers and identify patterns"
detailed = """
## The Fibonacci Sequence

The Fibonacci sequence is one of the most famous patterns in mathematics:

```
0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...
```

**The Pattern:**
Each number is the sum of the two preceding numbers:
- F(0) = 0
- F(1) = 1
- F(n) = F(n-1) + F(n-2) for n > 1

**Examples:**
- F(2) = F(1) + F(0) = 1 + 0 = 1
- F(3) = F(2) + F(1) = 1 + 1 = 2
- F(4) = F(3) + F(2) = 2 + 1 = 3
- F(5) = F(4) + F(3) = 3 + 2 = 5

**Your Tasks:**
1. Implement `fibonacci(n)` that returns the nth Fibonacci number
2. Implement `fibonacci_list(n)` that returns the first n Fibonacci numbers
"""

[skeleton]
code = '''
def fibonacci(n: int) -> int:
    """
    Return the nth Fibonacci number.

    F(0) = 0, F(1) = 1, F(n) = F(n-1) + F(n-2)

    Args:
        n: The index in the sequence (0-indexed)

    Returns:
        The nth Fibonacci number
    """
    # Your code here
    pass


def fibonacci_list(n: int) -> list:
    """
    Return the first n Fibonacci numbers.

    Args:
        n: How many numbers to generate

    Returns:
        List of the first n Fibonacci numbers
    """
    # Your code here
    pass
'''

[validation]
type = "pytest"
test_file = "test_fibonacci_sequence.py"

[[tests.case]]
name = "fib_0"
input = 0
expected = 0
function = "fibonacci"

[[tests.case]]
name = "fib_1"
input = 1
expected = 1
function = "fibonacci"

[[tests.case]]
name = "fib_10"
input = 10
expected = 55
function = "fibonacci"

[[tests.case]]
name = "fib_list_5"
input = 5
expected = [0, 1, 1, 2, 3]
function = "fibonacci_list"

[hints]
level_1 = "Start with the base cases: if n == 0 return 0, if n == 1 return 1"
level_2 = "For larger n, keep track of the previous two numbers"
level_3 = "Use two variables: prev = 0, curr = 1, then swap and add in a loop"
level_4 = """
```python
def fibonacci(n):
    if n <= 1:
        return n
    prev, curr = 0, 1
    for _ in range(2, n + 1):
        prev, curr = curr, prev + curr
    return curr
```
"""

[solution]
code = '''
def fibonacci(n: int) -> int:
    if n <= 1:
        return n
    prev, curr = 0, 1
    for _ in range(2, n + 1):
        prev, curr = curr, prev + curr
    return curr


def fibonacci_list(n: int) -> list:
    if n == 0:
        return []
    if n == 1:
        return [0]

    result = [0, 1]
    for _ in range(2, n):
        result.append(result[-1] + result[-2])
    return result


print(fibonacci(10))
print(fibonacci_list(10))
'''

[meta]
time_limit_seconds = 120
speed_run_target = 60
points = 100
source = "FIBONNACI"

[adaptive]
fun_factor = "puzzle"
weakness_signals = ["base_case_handling", "variable_swap", "loop_range"]
