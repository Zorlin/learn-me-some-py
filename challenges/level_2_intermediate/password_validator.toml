# Challenge: Password Strength Validator
# Learn string methods and complex logic

[challenge]
id = "password_validator"
name = "Password Strength Validator"
level = 2
prerequisites = ["string_methods", "if_else", "logical_operators"]

[description]
brief = "Check if passwords meet security requirements"
detailed = """
You're building a password validator for a signup form.

A strong password must:
1. Be at least 8 characters long
2. Contain at least one uppercase letter
3. Contain at least one lowercase letter
4. Contain at least one digit
5. Contain at least one special character (!@#$%^&*)

Commands:
- CHECK <password>: Return "strong" or "weak"
- REASON <password>: Return the first failed requirement, or "valid" if all pass

Requirement messages:
- "too_short" (less than 8 chars)
- "no_uppercase" (no A-Z)
- "no_lowercase" (no a-z)
- "no_digit" (no 0-9)
- "no_special" (no !@#$%^&*)
"""

[skeleton]
code = '''
def solution(commands):
    # Check passwords against security rules
    # Return appropriate responses
    pass
'''

[tests]
[[tests.case]]
name = "strong_password"
input = ["CHECK Password123!", "REASON Password123!"]
expected = ["strong", "valid"]

[[tests.case]]
name = "weak_too_short"
input = ["CHECK Pass1!", "REASON Pass1!"]
expected = ["weak", "too_short"]

[[tests.case]]
name = "weak_no_uppercase"
input = ["CHECK password123!", "REASON password123!"]
expected = ["weak", "no_uppercase"]

[[tests.case]]
name = "weak_no_digit"
input = ["CHECK Password!", "REASON Password!"]
expected = ["weak", "no_digit"]

[[tests.case]]
name = "weak_no_special"
input = ["CHECK Password123", "REASON Password123"]
expected = ["weak", "no_special"]

[[tests.case]]
name = "multiple_checks"
input = ["CHECK Abc123!@#", "CHECK weak", "CHECK NoDigits!"]
expected = ["strong", "weak", "weak"]

[hints]
level_1 = "Use len(password) to check length"
level_2 = "Use password.isupper(), password.islower(), password.isdigit() for character checks"
level_3 = "Loop through each character: for char in password"
level_4 = """
Pattern for checking:
```python
has_upper = any(c.isupper() for c in password)
has_lower = any(c.islower() for c in password)
has_digit = any(c.isdigit() for c in password)
has_special = any(c in "!@#$%^&*" for c in password)

if len(password) < 8:
    return "too_short"
elif not has_upper:
    return "no_uppercase"
# ... etc
```
"""

[gamepad_hints]
easy_mode = """
ðŸŽ® PASSWORD VALIDATOR:
1. Split command to get action and password
2. Check each requirement in order
3. For CHECK: return "strong" if all pass
4. For REASON: return first failure or "valid"
5. Use any() to check if any character matches
"""

[solution]
# Hidden from player
code = '''
def solution(commands):
    results = []

    for command in commands:
        parts = command.split(maxsplit=1)
        action = parts[0]
        password = parts[1] if len(parts) > 1 else ""

        # Check requirements
        has_upper = any(c.isupper() for c in password)
        has_lower = any(c.islower() for c in password)
        has_digit = any(c.isdigit() for c in password)
        has_special = any(c in "!@#$%^&*" for c in password)

        if action == "CHECK":
            if (len(password) >= 8 and has_upper and has_lower
                and has_digit and has_special):
                results.append("strong")
            else:
                results.append("weak")

        elif action == "REASON":
            if len(password) < 8:
                results.append("too_short")
            elif not has_upper:
                results.append("no_uppercase")
            elif not has_lower:
                results.append("no_lowercase")
            elif not has_digit:
                results.append("no_digit")
            elif not has_special:
                results.append("no_special")
            else:
                results.append("valid")

    return results
'''

[meta]
time_limit_seconds = 600
speed_run_target = 180
points = 40
xp_reward = 40
category = "practical"
next_challenge = "todo_manager"

[adaptive]
fun_factor = "practical"
weakness_signals = ["forgot_any", "string_method_confusion", "logic_order_matters"]
project_themes = ["authentication", "security", "form_validation", "user_registration"]

[emotional_checkpoints]
after_first_test_pass = """
ðŸŽ® Your validator is working! Security is important.
   [RT] if you feel more confident
"""
after_completion = """
ðŸŽ® Password validator complete! Real security code.
   [RT] Security is cool  |  [LT] Too complex  |  [Y] Explain more
"""
